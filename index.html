<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–æ–ª–æ—Å–æ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #fff;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #00dbde, #fc00ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .subtitle {
            color: #aaa;
            margin-bottom: 30px;
            font-size: 1.1rem;
        }
        
        .status-container {
            margin: 30px 0;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
        }
        
        .device-status {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }
        
        .status-indicator {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 5px solid rgba(255, 255, 255, 0.2);
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .status-on {
            background: radial-gradient(circle, #00ff88 0%, #00aa55 100%);
            box-shadow: 0 0 30px rgba(0, 255, 136, 0.5);
            color: #003311;
        }
        
        .status-off {
            background: radial-gradient(circle, #ff3333 0%, #aa0000 100%);
            box-shadow: 0 0 30px rgba(255, 51, 51, 0.5);
            color: #330000;
        }
        
        .status-text {
            font-size: 1.4rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        
        .voice-button {
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            border: none;
            border-radius: 50px;
            color: white;
            font-size: 1.3rem;
            font-weight: bold;
            padding: 20px 40px;
            margin: 20px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            width: 100%;
        }
        
        .voice-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }
        
        .voice-button:active {
            transform: translateY(0);
        }
        
        .voice-button.listening {
            background: linear-gradient(90deg, #f093fb 0%, #f5576c 100%);
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(245, 87, 108, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(245, 87, 108, 0); }
            100% { box-shadow: 0 0 0 0 rgba(245, 87, 108, 0); }
        }
        
        .mic-icon {
            font-size: 1.8rem;
        }
        
        .command-log {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            padding: 15px;
            margin-top: 25px;
            text-align: left;
            max-height: 200px;
            overflow-y: auto;
        }
        
        .command-log h3 {
            margin-bottom: 10px;
            color: #aaa;
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .log-entry {
            padding: 8px 12px;
            margin: 5px 0;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 5px;
            border-left: 4px solid #667eea;
            font-size: 0.95rem;
            word-break: break-word;
        }
        
        .log-entry.recognized {
            border-left-color: #00ff88;
        }
        
        .log-entry.error {
            border-left-color: #ff3333;
        }
        
        .hint {
            color: #888;
            font-size: 0.9rem;
            margin-top: 20px;
            line-height: 1.5;
        }
        
        .commands-list {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }
        
        .command-chip {
            background: rgba(102, 126, 234, 0.2);
            border: 1px solid rgba(102, 126, 234, 0.5);
            border-radius: 20px;
            padding: 8px 16px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .command-chip:hover {
            background: rgba(102, 126, 234, 0.4);
            transform: translateY(-2px);
        }
        
        .footer {
            margin-top: 25px;
            color: #666;
            font-size: 0.8rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>–ì–æ–ª–æ—Å–æ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h1>
        <p class="subtitle">–ü—Ä–æ–∏–∑–Ω–µ—Å–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º</p>
        
        <div class="status-container">
            <div class="device-status">
                <div class="status-indicator status-off" id="statusIndicator">
                    –í–´–ö–õ
                </div>
                <div class="status-text" id="statusText">
                    –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤—ã–∫–ª—é—á–µ–Ω–æ
                </div>
            </div>
        </div>
        
        <button class="voice-button" id="voiceButton">
            <span class="mic-icon">üé§</span>
            <span>–ù–∞–∂–º–∏—Ç–µ –∏ –≥–æ–≤–æ—Ä–∏—Ç–µ</span>
        </button>
        
        <div class="commands-list">
            <div class="command-chip" data-command="–≤–∫–ª—é—á–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ">–≤–∫–ª—é—á–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ</div>
            <div class="command-chip" data-command="–≤—ã–∫–ª—é—á–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ">–≤—ã–∫–ª—é—á–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ</div>
            <div class="command-chip" data-command="–ø–µ—Ä–µ–∫–ª—é—á–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ">–ø–µ—Ä–µ–∫–ª—é—á–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ</div>
            <div class="command-chip" data-command="—Å—Ç–∞—Ç—É—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞">—Å—Ç–∞—Ç—É—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</div>
        </div>
        
        <div class="command-log">
            <h3>–ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥</h3>
            <div id="commandLog"></div>
        </div>
        
        <p class="hint">
            –ü—Ä–æ–∏–∑–Ω–µ—Å–∏—Ç–µ "–≤–∫–ª—é—á–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ", "–≤—ã–∫–ª—é—á–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ", "–ø–µ—Ä–µ–∫–ª—é—á–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ" –∏–ª–∏ "—Å—Ç–∞—Ç—É—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞". 
            –†–∞–±–æ—Ç–∞–µ—Ç –≤ Chrome, Edge –∏ –¥—Ä—É–≥–∏—Ö —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö.
        </p>
        
        <div class="footer">
            –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ Web Speech API | –õ–æ–∫–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥
        </div>
    </div>

    <script>
        // –°–æ—Å—Ç–æ—è–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
        let deviceOn = false;
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const voiceButton = document.getElementById('voiceButton');
        const statusIndicator = document.getElementById('statusIndicator');
        const statusText = document.getElementById('statusText');
        const commandLog = document.getElementById('commandLog');
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫—É Web Speech API
        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        if (!SpeechRecognition) {
            alert("–ò–∑–≤–∏–Ω–∏—Ç–µ, –≤–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ Chrome –∏–ª–∏ Edge.");
            voiceButton.disabled = true;
            voiceButton.textContent = "–ë—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è";
        }
        
        // –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏
        const recognition = new SpeechRecognition();
        recognition.lang = 'ru-RU';
        recognition.continuous = false;
        recognition.interimResults = false;
        recognition.maxAlternatives = 3;
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫ –±—ã—Å—Ç—Ä—ã—Ö –∫–æ–º–∞–Ω–¥
        document.querySelectorAll('.command-chip').forEach(chip => {
            chip.addEventListener('click', () => {
                const command = chip.getAttribute('data-command');
                simulateVoiceCommand(command);
            });
        });
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
        voiceButton.addEventListener('click', () => {
            if (voiceButton.classList.contains('listening')) {
                stopListening();
            } else {
                startListening();
            }
        });
        
        // –§—É–Ω–∫—Ü–∏—è –Ω–∞—á–∞–ª–∞ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è
        function startListening() {
            try {
                recognition.start();
                voiceButton.classList.add('listening');
                voiceButton.innerHTML = '<span class="mic-icon">üé§</span><span>–°–ª—É—à–∞—é... –ì–æ–≤–æ—Ä–∏—Ç–µ —Å–µ–π—á–∞—Å</span>';
                addLogEntry('–°–ª—É—à–∞—é...', 'neutral');
            } catch (error) {
                addLogEntry('–û—à–∏–±–∫–∞ –Ω–∞—á–∞–ª–∞ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è: ' + error, 'error');
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è
        function stopListening() {
            recognition.stop();
            voiceButton.classList.remove('listening');
            voiceButton.innerHTML = '<span class="mic-icon">üé§</span><span>–ù–∞–∂–º–∏—Ç–µ –∏ –≥–æ–≤–æ—Ä–∏—Ç–µ</span>';
        }
        
        // –°–æ–±—ã—Ç–∏–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
        recognition.onresult = (event) => {
            const last = event.results.length - 1;
            const transcript = event.results[last][0].transcript.trim().toLowerCase();
            
            addLogEntry(`–†–∞—Å–ø–æ–∑–Ω–∞–Ω–æ: "${transcript}"`, 'recognized');
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã
            processCommand(transcript);
            
            // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–Ω–æ–ø–∫—É –≤ –∏—Å—Ö–æ–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
            setTimeout(() => {
                stopListening();
            }, 1000);
        };
        
        // –°–æ–±—ã—Ç–∏—è –æ—à–∏–±–æ–∫ –∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è
        recognition.onerror = (event) => {
            if (event.error === 'no-speech') {
                addLogEntry('–†–µ—á—å –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.', 'error');
            } else if (event.error !== 'aborted') {
                addLogEntry(`–û—à–∏–±–∫–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è: ${event.error}`, 'error');
            }
            stopListening();
        };
        
        recognition.onend = () => {
            stopListening();
        };
        
        // –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥—ã
        function processCommand(command) {
            // –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –∫–æ–º–∞–Ω–¥—ã
            const normalizedCommand = command
                .toLowerCase()
                .replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g, '')
                .replace(/\s{2,}/g, ' ');
            
            // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–º–µ—Ä–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é –ø—Ä–æ—Å—Ç—ã—Ö –ø—Ä–∞–≤–∏–ª
            let intent = null;
            let confidence = 0;
            
            // –ü–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥
            const patterns = {
                '–≤–∫–ª—é—á–∏—Ç—å': /(–≤–∫–ª—é—á–∏|–≤–∫–ª—é—á–∏—Ç—å|–∑–∞–ø—É—Å—Ç–∏|–∑–∞–ø—É—Å—Ç–∏—Ç—å|—Å—Ç–∞—Ä—Ç|–≤–∫–ª|on|—Å—Ç–∞—Ä—Ç—É–π|–∑–∞–ø—É—Å–∫–∞–π|–¥–∞–≤–∞–π|–Ω–∞—á–∏–Ω–∞–π|—Ä–∞–±–æ—Ç–∞–π|–∞–∫—Ç–∏–≤–∏—Ä—É–π)/,
                '–≤—ã–∫–ª—é—á–∏—Ç—å': /(–≤—ã–∫–ª—é—á–∏|–≤—ã–∫–ª—é—á–∏—Ç—å|–æ—Å—Ç–∞–Ω–æ–≤–∏|–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å|—Å—Ç–æ–ø|–≤—ã–∫–ª|off|–æ—Å—Ç–∞–Ω–æ–≤–∏—Å—å|–ø—Ä–µ–∫—Ä–∞—Ç–∏|—Ö–≤–∞—Ç–∏—Ç|–∑–∞–∫–æ–Ω—á–∏|–¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É–π)/,
                '–ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å': /(–ø–µ—Ä–µ–∫–ª—é—á–∏|–ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å|–∏–∑–º–µ–Ω–∏|–∏–∑–º–µ–Ω–∏—Ç—å|—Å–º–µ–Ω–∏|—Å–º–µ–Ω–∏—Ç—å|–ø–æ–º–µ–Ω—è–π|–ø–æ–º–µ–Ω—è—Ç—å|–ø–µ—Ä–µ–≤–µ–¥–∏|–ø–µ—Ä–µ–≤–µ—Å—Ç–∏|—Ç–æ–≥–ª|toggle)/,
                '—Å—Ç–∞—Ç—É—Å': /(—Å—Ç–∞—Ç—É—Å|—Å–æ—Å—Ç–æ—è–Ω–∏–µ|–∫–∞–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ|—á—Ç–æ —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º|—Ä–∞–±–æ—Ç–∞–µ—Ç|–∫–∞–∫ –¥–µ–ª–∞|—á—Ç–æ —Ç–∞–º|status|state|–∫–∞–∫ –¥–µ–ª–∞ —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º)/
            };
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∫–∞–∫–æ–µ –Ω–∞–º–µ—Ä–µ–Ω–∏–µ –∏–º–µ–µ—Ç –Ω–∞–∏–±–æ–ª—å—à—É—é —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å
            for (const [intentName, pattern] of Object.entries(patterns)) {
                if (pattern.test(normalizedCommand)) {
                    // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å, –µ—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ
                    const matches = normalizedCommand.match(pattern);
                    confidence = matches ? matches.length : 0;
                    intent = intentName;
                    
                    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
                    if (normalizedCommand.includes('—É—Å—Ç—Ä–æ–π—Å—Ç–≤') || 
                        normalizedCommand.includes('–ø—Ä–∏–±–æ—Ä') || 
                        normalizedCommand.includes('–¥–µ–≤–∞–π—Å') ||
                        normalizedCommand.includes('—Å–∏—Å—Ç–µ–º') ||
                        normalizedCommand.length < 20) { // –ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –∫–æ—Ä–æ—Ç–∫–∞—è, –≤–µ—Ä–æ—è—Ç–Ω–æ, –æ–Ω–∞ –ø—Ä–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
                        confidence += 2;
                    }
                }
            }
            
            // –ï—Å–ª–∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –Ω–∏–∑–∫–∞—è, –≤–æ–∑–º–æ–∂–Ω–æ, –∫–æ–º–∞–Ω–¥–∞ –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–∞
            if (confidence < 1) {
                addLogEntry('–ö–æ–º–∞–Ω–¥–∞ –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–∫–∞–∑–∞—Ç—å "–≤–∫–ª—é—á–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ" –∏–ª–∏ "–≤—ã–∫–ª—é—á–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ".', 'error');
                speak('–ö–æ–º–∞–Ω–¥–∞ –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.');
                return;
            }
            
            // –í—ã–ø–æ–ª–Ω—è–µ–º –¥–µ–π—Å—Ç–≤–∏–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–º–µ—Ä–µ–Ω–∏—è
            switch(intent) {
                case '–≤–∫–ª—é—á–∏—Ç—å':
                    deviceOn = true;
                    updateDeviceStatus();
                    speak('–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤–∫–ª—é—á–µ–Ω–æ');
                    addLogEntry('–î–µ–π—Å—Ç–≤–∏–µ: –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤–∫–ª—é—á–µ–Ω–æ', 'neutral');
                    break;
                    
                case '–≤—ã–∫–ª—é—á–∏—Ç—å':
                    deviceOn = false;
                    updateDeviceStatus();
                    speak('–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤—ã–∫–ª—é—á–µ–Ω–æ');
                    addLogEntry('–î–µ–π—Å—Ç–≤–∏–µ: –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤—ã–∫–ª—é—á–µ–Ω–æ', 'neutral');
                    break;
                    
                case '–ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å':
                    deviceOn = !deviceOn;
                    updateDeviceStatus();
                    speak(deviceOn ? '–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤–∫–ª—é—á–µ–Ω–æ' : '–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤—ã–∫–ª—é—á–µ–Ω–æ');
                    addLogEntry(`–î–µ–π—Å—Ç–≤–∏–µ: –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ ${deviceOn ? '–≤–∫–ª—é—á–µ–Ω–æ' : '–≤—ã–∫–ª—é—á–µ–Ω–æ'}`, 'neutral');
                    break;
                    
                case '—Å—Ç–∞—Ç—É—Å':
                    const status = deviceOn ? '–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤–∫–ª—é—á–µ–Ω–æ' : '–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤—ã–∫–ª—é—á–µ–Ω–æ';
                    speak(status);
                    addLogEntry(`–ó–∞–ø—Ä–æ—Å —Å—Ç–∞—Ç—É—Å–∞: ${status}`, 'neutral');
                    break;
                    
                default:
                    addLogEntry('–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞', 'error');
                    speak('–Ø –Ω–µ –ø–æ–Ω—è–ª –∫–æ–º–∞–Ω–¥—É');
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
        function updateDeviceStatus() {
            if (deviceOn) {
                statusIndicator.className = 'status-indicator status-on';
                statusIndicator.textContent = '–í–ö–õ';
                statusText.textContent = '–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤–∫–ª—é—á–µ–Ω–æ';
            } else {
                statusIndicator.className = 'status-indicator status-off';
                statusIndicator.textContent = '–í–´–ö–õ';
                statusText.textContent = '–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤—ã–∫–ª—é—á–µ–Ω–æ';
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏ –≤ –ª–æ–≥
        function addLogEntry(text, type = 'neutral') {
            const entry = document.createElement('div');
            entry.className = `log-entry ${type}`;
            entry.textContent = `[${new Date().toLocaleTimeString()}] ${text}`;
            commandLog.appendChild(entry);
            
            // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –ª–æ–≥ –≤–Ω–∏–∑
            commandLog.scrollTop = commandLog.scrollHeight;
            
            // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –≤ –ª–æ–≥–µ
            const entries = commandLog.querySelectorAll('.log-entry');
            if (entries.length > 10) {
                entries[0].remove();
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è —Å–∏–Ω—Ç–µ–∑–∞ —Ä–µ—á–∏ (–æ–∑–≤—É—á–∏–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤)
        function speak(text) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'ru-RU';
                utterance.rate = 1.0;
                utterance.pitch = 1.0;
                window.speechSynthesis.speak(utterance);
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –∏–º–∏—Ç–∞—Ü–∏–∏ –≥–æ–ª–æ—Å–æ–≤–æ–π –∫–æ–º–∞–Ω–¥—ã (–¥–ª—è –∫–Ω–æ–ø–æ–∫ –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞)
        function simulateVoiceCommand(command) {
            addLogEntry(`–ò–º–∏—Ç–∞—Ü–∏—è: "${command}"`, 'recognized');
            processCommand(command);
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        updateDeviceStatus();
        addLogEntry('–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ –∏ –≥–æ–≤–æ—Ä–∏—Ç–µ.', 'neutral');
    </script>
</body>
</html>
