<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–æ–ª–æ—Å–æ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #fff;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            width: 100%;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #00dbde, #fc00ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .subtitle {
            color: #aaa;
            margin-bottom: 30px;
            font-size: 1.1rem;
        }
        
        .status-container {
            margin: 25px 0;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
        }
        
        .device-status {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }
        
        .status-indicator {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 5px solid rgba(255, 255, 255, 0.2);
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .status-on {
            background: radial-gradient(circle, #00ff88 0%, #00aa55 100%);
            box-shadow: 0 0 30px rgba(0, 255, 136, 0.5);
            color: #003311;
        }
        
        .status-off {
            background: radial-gradient(circle, #ff3333 0%, #aa0000 100%);
            box-shadow: 0 0 30px rgba(255, 51, 51, 0.5);
            color: #330000;
        }
        
        .status-text {
            font-size: 1.4rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        
        .sensors-panel {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 25px 0;
        }
        
        .sensor-card {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            transition: transform 0.3s ease;
        }
        
        .sensor-card:hover {
            transform: translateY(-5px);
        }
        
        .sensor-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }
        
        .sensor-title {
            font-size: 1.2rem;
            color: #aaa;
            margin-bottom: 10px;
        }
        
        .sensor-value {
            font-size: 2rem;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .temperature {
            color: #ff9966;
        }
        
        .pressure {
            color: #66ccff;
        }
        
        .sensor-unit {
            font-size: 1rem;
            color: #888;
        }
        
        .voice-button {
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            border: none;
            border-radius: 50px;
            color: white;
            font-size: 1.3rem;
            font-weight: bold;
            padding: 20px 40px;
            margin: 20px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            width: 100%;
        }
        
        .voice-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }
        
        .voice-button:active {
            transform: translateY(0);
        }
        
        .voice-button.listening {
            background: linear-gradient(90deg, #f093fb 0%, #f5576c 100%);
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(245, 87, 108, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(245, 87, 108, 0); }
            100% { box-shadow: 0 0 0 0 rgba(245, 87, 108, 0); }
        }
        
        .mic-icon {
            font-size: 1.8rem;
        }
        
        .commands-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin: 25px 0;
        }
        
        .command-chip {
            background: rgba(102, 126, 234, 0.2);
            border: 1px solid rgba(102, 126, 234, 0.5);
            border-radius: 15px;
            padding: 12px 10px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        
        .command-chip:hover {
            background: rgba(102, 126, 234, 0.4);
            transform: translateY(-3px);
        }
        
        .command-chip.primary {
            background: rgba(0, 255, 136, 0.2);
            border-color: rgba(0, 255, 136, 0.5);
        }
        
        .command-chip.secondary {
            background: rgba(255, 153, 102, 0.2);
            border-color: rgba(255, 153, 102, 0.5);
        }
        
        .command-chip.tertiary {
            background: rgba(102, 204, 255, 0.2);
            border-color: rgba(102, 204, 255, 0.5);
        }
        
        .command-icon {
            font-size: 1.2rem;
            margin-bottom: 5px;
        }
        
        .command-label {
            font-size: 0.8rem;
        }
        
        .command-log {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            padding: 15px;
            margin-top: 25px;
            text-align: left;
            max-height: 250px;
            overflow-y: auto;
        }
        
        .command-log h3 {
            margin-bottom: 10px;
            color: #aaa;
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .log-entry {
            padding: 8px 12px;
            margin: 5px 0;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 5px;
            border-left: 4px solid #667eea;
            font-size: 0.95rem;
            word-break: break-word;
        }
        
        .log-entry.recognized {
            border-left-color: #00ff88;
        }
        
        .log-entry.info {
            border-left-color: #66ccff;
        }
        
        .log-entry.error {
            border-left-color: #ff3333;
        }
        
        .log-entry.warning {
            border-left-color: #ff9966;
        }
        
        .hint {
            color: #888;
            font-size: 0.9rem;
            margin-top: 20px;
            line-height: 1.5;
            text-align: center;
        }
        
        .footer {
            margin-top: 25px;
            color: #666;
            font-size: 0.8rem;
            text-align: center;
        }
        
        .response-message {
            margin-top: 15px;
            padding: 12px;
            border-radius: 10px;
            background: rgba(0, 0, 0, 0.4);
            border-left: 4px solid #667eea;
            text-align: left;
            min-height: 50px;
            display: flex;
            align-items: center;
        }
        
        .response-text {
            font-size: 1rem;
        }
        
        .device-off-message {
            color: #ff9966;
            font-style: italic;
            margin-top: 10px;
            font-size: 0.9rem;
        }
        
        @media (max-width: 600px) {
            .commands-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .sensors-panel {
                grid-template-columns: 1fr;
            }
            
            .container {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>–ì–æ–ª–æ—Å–æ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h1>
        <p class="subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º –∏ –¥–∞—Ç—á–∏–∫–∞–º–∏</p>
        
        <div class="status-container">
            <div class="device-status">
                <div class="status-indicator status-off" id="statusIndicator">
                    –í–´–ö–õ
                </div>
                <div class="status-text" id="statusText">
                    –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤—ã–∫–ª—é—á–µ–Ω–æ
                </div>
            </div>
        </div>
        
        <div class="sensors-panel">
            <div class="sensor-card">
                <div class="sensor-icon">üå°Ô∏è</div>
                <div class="sensor-title">–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞</div>
                <div class="sensor-value temperature" id="temperatureValue">--.--</div>
                <div class="sensor-unit">¬∞C</div>
            </div>
            
            <div class="sensor-card">
                <div class="sensor-icon">üìä</div>
                <div class="sensor-title">–î–∞–≤–ª–µ–Ω–∏–µ</div>
                <div class="sensor-value pressure" id="pressureValue">---</div>
                <div class="sensor-unit">–º–º —Ä—Ç. —Å—Ç.</div>
            </div>
        </div>
        
        <button class="voice-button" id="voiceButton">
            <span class="mic-icon">üé§</span>
            <span>–ù–∞–∂–º–∏—Ç–µ –∏ –≥–æ–≤–æ—Ä–∏—Ç–µ</span>
        </button>
        
        <div class="commands-grid">
            <div class="command-chip primary" data-command="–≤–∫–ª—é—á–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ">
                <div class="command-icon">üîõ</div>
                <div class="command-label">–í–∫–ª—é—á–∏—Ç—å</div>
            </div>
            <div class="command-chip primary" data-command="–≤—ã–∫–ª—é—á–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ">
                <div class="command-icon">‚≠ï</div>
                <div class="command-label">–í—ã–∫–ª—é—á–∏—Ç—å</div>
            </div>
            <div class="command-chip primary" data-command="–ø–µ—Ä–µ–∫–ª—é—á–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ">
                <div class="command-icon">üîÑ</div>
                <div class="command-label">–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å</div>
            </div>
            
            <div class="command-chip secondary" data-command="–∫–∞–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞">
                <div class="command-icon">üå°Ô∏è</div>
                <div class="command-label">–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞</div>
            </div>
            <div class="command-chip secondary" data-command="—Å–æ–æ–±—â–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É">
                <div class="command-icon">üì¢</div>
                <div class="command-label">–°–æ–æ–±—â–∏ —Ç–µ–º–ø.</div>
            </div>
            <div class="command-chip secondary" data-command="–≤—ã–≤–µ–¥–∏ –ø–æ–∫–∞–∑–∞–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã">
                <div class="command-icon">üìà</div>
                <div class="command-label">–ü–æ–∫–∞–∑–∞–Ω–∏—è —Ç–µ–º–ø.</div>
            </div>
            
            <div class="command-chip tertiary" data-command="–∫–∞–∫–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ">
                <div class="command-icon">üìä</div>
                <div class="command-label">–î–∞–≤–ª–µ–Ω–∏–µ</div>
            </div>
            <div class="command-chip tertiary" data-command="—Å–æ–æ–±—â–∏ –¥–∞–≤–ª–µ–Ω–∏–µ">
                <div class="command-icon">üì¢</div>
                <div class="command-label">–°–æ–æ–±—â–∏ –¥–∞–≤–ª.</div>
            </div>
            <div class="command-chip tertiary" data-command="–≤—ã–≤–µ–¥–∏ –ø–æ–∫–∞–∑–∞–Ω–∏—è –¥–∞–≤–ª–µ–Ω–∏—è">
                <div class="command-icon">üìà</div>
                <div class="command-label">–ü–æ–∫–∞–∑–∞–Ω–∏—è –¥–∞–≤–ª.</div>
            </div>
            
            <div class="command-chip" data-command="—Å—Ç–∞—Ç—É—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞">
                <div class="command-icon">‚ÑπÔ∏è</div>
                <div class="command-label">–°—Ç–∞—Ç—É—Å</div>
            </div>
            <div class="command-chip" data-command="–æ–±–Ω–æ–≤–∏ –ø–æ–∫–∞–∑–∞–Ω–∏—è">
                <div class="command-icon">üîÑ</div>
                <div class="command-label">–û–±–Ω–æ–≤–∏—Ç—å</div>
            </div>
            <div class="command-chip" data-command="–ø–æ–º–æ—â—å">
                <div class="command-icon">‚ùì</div>
                <div class="command-label">–ü–æ–º–æ—â—å</div>
            </div>
        </div>
        
        <div class="response-message">
            <div class="response-text" id="responseText">–ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É.</div>
        </div>
        
        <div class="command-log">
            <h3>–ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥</h3>
            <div id="commandLog"></div>
        </div>
        
        <p class="hint">
            –ü—Ä–æ–∏–∑–Ω–µ—Å–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã: "–≤–∫–ª—é—á–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ", "–≤—ã–∫–ª—é—á–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ", "–∫–∞–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞?", 
            "—Å–æ–æ–±—â–∏ –¥–∞–≤–ª–µ–Ω–∏–µ", "—Å—Ç–∞—Ç—É—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞" –∏ –¥—Ä—É–≥–∏–µ. –†–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö.
        </p>
        
        <div class="footer">
            Web Speech API | –õ–æ–∫–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ | –î–∞—Ç—á–∏–∫–∏ –∏–º–∏—Ç–∏—Ä—É—é—Ç—Å—è
        </div>
    </div>

    <script>
        // –°–æ—Å—Ç–æ—è–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ –¥–∞—Ç—á–∏–∫–æ–≤
        let deviceOn = false;
        let temperature = 23.5; // –ù–∞—á–∞–ª—å–Ω–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞
        let pressure = 760; // –ù–∞—á–∞–ª—å–Ω–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const voiceButton = document.getElementById('voiceButton');
        const statusIndicator = document.getElementById('statusIndicator');
        const statusText = document.getElementById('statusText');
        const commandLog = document.getElementById('commandLog');
        const responseText = document.getElementById('responseText');
        const temperatureValue = document.getElementById('temperatureValue');
        const pressureValue = document.getElementById('pressureValue');
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –¥–∞—Ç—á–∏–∫–æ–≤
        function generateSensorValues() {
            if (deviceOn) {
                // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
                temperature = 20 + Math.random() * 10; // 20-30¬∞C
                temperature = Math.round(temperature * 10) / 10; // –û–∫—Ä—É–≥–ª–µ–Ω–∏–µ –¥–æ 0.1
                
                pressure = 740 + Math.random() * 40; // 740-780 –º–º —Ä—Ç. —Å—Ç.
                pressure = Math.round(pressure);
            } else {
                // –ü—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–æ—á–µ—Ä–∫–∏
                temperature = null;
                pressure = null;
            }
            
            updateSensorDisplays();
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π –¥–∞—Ç—á–∏–∫–æ–≤
        function updateSensorDisplays() {
            if (deviceOn && temperature !== null) {
                temperatureValue.textContent = temperature.toFixed(1);
                temperatureValue.style.color = getTemperatureColor(temperature);
            } else {
                temperatureValue.textContent = '--.--';
                temperatureValue.style.color = '#ff9966';
            }
            
            if (deviceOn && pressure !== null) {
                pressureValue.textContent = pressure;
                pressureValue.style.color = getPressureColor(pressure);
            } else {
                pressureValue.textContent = '---';
                pressureValue.style.color = '#66ccff';
            }
        }
        
        // –¶–≤–µ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–Ω–∞—á–µ–Ω–∏—è
        function getTemperatureColor(temp) {
            if (temp < 15) return '#66ccff'; // –•–æ–ª–æ–¥–Ω–æ
            if (temp < 25) return '#00ff88'; // –ù–æ—Ä–º–∞–ª—å–Ω–æ
            if (temp < 30) return '#ffcc00'; // –¢–µ–ø–ª–æ
            return '#ff3333'; // –ñ–∞—Ä–∫–æ
        }
        
        // –¶–≤–µ—Ç –¥–∞–≤–ª–µ–Ω–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–Ω–∞—á–µ–Ω–∏—è
        function getPressureColor(press) {
            if (press < 740) return '#ff9966'; // –ù–∏–∑–∫–æ–µ
            if (press < 780) return '#00ff88'; // –ù–æ—Ä–º–∞–ª—å–Ω–æ–µ
            return '#ff3333'; // –í—ã—Å–æ–∫–æ–µ
        }
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫—É Web Speech API
        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        if (!SpeechRecognition) {
            showResponse("–ò–∑–≤–∏–Ω–∏—Ç–µ, –≤–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ Chrome –∏–ª–∏ Edge.", "error");
            voiceButton.disabled = true;
            voiceButton.textContent = "–ë—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è";
        }
        
        // –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏
        const recognition = new SpeechRecognition();
        recognition.lang = 'ru-RU';
        recognition.continuous = false;
        recognition.interimResults = false;
        recognition.maxAlternatives = 3;
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫ –±—ã—Å—Ç—Ä—ã—Ö –∫–æ–º–∞–Ω–¥
        document.querySelectorAll('.command-chip').forEach(chip => {
            chip.addEventListener('click', () => {
                const command = chip.getAttribute('data-command');
                simulateVoiceCommand(command);
            });
        });
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
        voiceButton.addEventListener('click', () => {
            if (voiceButton.classList.contains('listening')) {
                stopListening();
            } else {
                startListening();
            }
        });
        
        // –§—É–Ω–∫—Ü–∏—è –Ω–∞—á–∞–ª–∞ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è
        function startListening() {
            try {
                recognition.start();
                voiceButton.classList.add('listening');
                voiceButton.innerHTML = '<span class="mic-icon">üé§</span><span>–°–ª—É—à–∞—é... –ì–æ–≤–æ—Ä–∏—Ç–µ —Å–µ–π—á–∞—Å</span>';
                showResponse("–°–ª—É—à–∞—é...", "info");
                addLogEntry('–ù–∞—á–∞–ª–æ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è', 'info');
            } catch (error) {
                showResponse("–û—à–∏–±–∫–∞ –Ω–∞—á–∞–ª–∞ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è", "error");
                addLogEntry('–û—à–∏–±–∫–∞ –Ω–∞—á–∞–ª–∞ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è: ' + error, 'error');
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è
        function stopListening() {
            recognition.stop();
            voiceButton.classList.remove('listening');
            voiceButton.innerHTML = '<span class="mic-icon">üé§</span><span>–ù–∞–∂–º–∏—Ç–µ –∏ –≥–æ–≤–æ—Ä–∏—Ç–µ</span>';
        }
        
        // –°–æ–±—ã—Ç–∏–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
        recognition.onresult = (event) => {
            const last = event.results.length - 1;
            const transcript = event.results[last][0].transcript.trim().toLowerCase();
            
            addLogEntry(`–†–∞—Å–ø–æ–∑–Ω–∞–Ω–æ: "${transcript}"`, 'recognized');
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã
            processCommand(transcript);
            
            // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–Ω–æ–ø–∫—É –≤ –∏—Å—Ö–æ–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
            setTimeout(() => {
                stopListening();
            }, 1000);
        };
        
        // –°–æ–±—ã—Ç–∏—è –æ—à–∏–±–æ–∫ –∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è
        recognition.onerror = (event) => {
            if (event.error === 'no-speech') {
                showResponse("–†–µ—á—å –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.", "warning");
                addLogEntry('–†–µ—á—å –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–∞', 'warning');
            } else if (event.error === 'audio-capture') {
                showResponse("–ú–∏–∫—Ä–æ—Ñ–æ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ.", "error");
                addLogEntry('–ú–∏–∫—Ä–æ—Ñ–æ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω', 'error');
            } else if (event.error !== 'aborted') {
                showResponse(`–û—à–∏–±–∫–∞: ${event.error}`, "error");
                addLogEntry(`–û—à–∏–±–∫–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è: ${event.error}`, 'error');
            }
            stopListening();
        };
        
        recognition.onend = () => {
            stopListening();
        };
        
        // –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥—ã
        function processCommand(command) {
            // –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –∫–æ–º–∞–Ω–¥—ã
            const normalizedCommand = command
                .toLowerCase()
                .replace(/[.,\/#!$%\^&\*;:{}=\-_`~()?]/g, '')
                .replace(/\s{2,}/g, ' ')
                .trim();
            
            // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–º–µ—Ä–µ–Ω–∏—è
            let intent = null;
            let confidence = 0;
            
            // –ü–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥
            const patterns = {
                '–≤–∫–ª—é—á–∏—Ç—å': /(–≤–∫–ª—é—á–∏|–≤–∫–ª—é—á–∏—Ç—å|–∑–∞–ø—É—Å—Ç–∏|–∑–∞–ø—É—Å—Ç–∏—Ç—å|—Å—Ç–∞—Ä—Ç|–≤–∫–ª|on|–∞–∫—Ç–∏–≤–∏—Ä—É–π|–¥–∞–≤–∞–π|–Ω–∞—á–∏–Ω–∞–π)/,
                '–≤—ã–∫–ª—é—á–∏—Ç—å': /(–≤—ã–∫–ª—é—á–∏|–≤—ã–∫–ª—é—á–∏—Ç—å|–æ—Å—Ç–∞–Ω–æ–≤–∏|–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å|—Å—Ç–æ–ø|–≤—ã–∫–ª|off|–¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É–π|—Ö–≤–∞—Ç–∏—Ç|–ø—Ä–µ–∫—Ä–∞—Ç–∏)/,
                '–ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å': /(–ø–µ—Ä–µ–∫–ª—é—á–∏|–ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å|–∏–∑–º–µ–Ω–∏|–∏–∑–º–µ–Ω–∏—Ç—å|—Å–º–µ–Ω–∏|—Å–º–µ–Ω–∏—Ç—å|–ø–æ–º–µ–Ω—è–π|–ø–æ–º–µ–Ω—è—Ç—å|–ø–µ—Ä–µ–≤–µ–¥–∏|–ø–µ—Ä–µ–≤–µ—Å—Ç–∏|—Ç–æ–≥–ª|toggle)/,
                '—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞': /(—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä|—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞|—Å–∫–æ–ª—å–∫–æ –≥—Ä–∞–¥—É—Å|–∫–∞–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä|—Å–æ–æ–±—â–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä|–≤—ã–≤–µ–¥–∏ –ø–æ–∫–∞–∑–∞–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä|–ø–æ–∫–∞–∑–∞–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä|–≥—Ä–∞–¥—É—Å|–≥—Ä–∞–¥—É—Å–æ–≤|—Ö–æ–ª–æ–¥–Ω–æ|–∂–∞—Ä–∫–æ|—Ç–µ–ø–ª–æ)/,
                '–¥–∞–≤–ª–µ–Ω–∏–µ': /(–¥–∞–≤–ª–µ–Ω–∏|–¥–∞–≤–ª–µ–Ω–∏–µ|–∫–∞–∫–æ–µ –¥–∞–≤–ª–µ–Ω|—Å–æ–æ–±—â–∏ –¥–∞–≤–ª–µ–Ω|–≤—ã–≤–µ–¥–∏ –ø–æ–∫–∞–∑–∞–Ω–∏—è –¥–∞–≤–ª–µ–Ω|–ø–æ–∫–∞–∑–∞–Ω–∏—è –¥–∞–≤–ª–µ–Ω|–º–º —Ä—Ç —Å—Ç|–º–∏–ª–ª–∏–º–µ—Ç—Ä|–±–∞—Ä–æ–º–µ—Ç—Ä|–∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω)/,
                '—Å—Ç–∞—Ç—É—Å': /(—Å—Ç–∞—Ç—É—Å|—Å–æ—Å—Ç–æ—è–Ω–∏–µ|–∫–∞–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ|—á—Ç–æ —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º|—Ä–∞–±–æ—Ç–∞–µ—Ç|–∫–∞–∫ –¥–µ–ª–∞|—á—Ç–æ —Ç–∞–º|status|state)/,
                '–æ–±–Ω–æ–≤–∏—Ç—å': /(–æ–±–Ω–æ–≤|–æ–±–Ω–æ–≤–∏|–æ–±–Ω–æ–≤–∏—Ç—å|–∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä|–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑|refresh|reload)/,
                '–ø–æ–º–æ—â—å': /(–ø–æ–º–æ—â|–ø–æ–º–æ–≥–∏|help|—Å–ø—Ä–∞–≤–∫|–∏–Ω—Å—Ç—Ä—É–∫—Ü|—á—Ç–æ —Ç—ã —É–º–µ–µ—à—å|–∫–∞–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã)/
            };
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∫–∞–∫–æ–µ –Ω–∞–º–µ—Ä–µ–Ω–∏–µ –∏–º–µ–µ—Ç –Ω–∞–∏–±–æ–ª—å—à—É—é —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å
            for (const [intentName, pattern] of Object.entries(patterns)) {
                if (pattern.test(normalizedCommand)) {
                    const matches = normalizedCommand.match(pattern);
                    confidence = matches ? matches.length : 0;
                    intent = intentName;
                    
                    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
                    if (normalizedCommand.includes('—É—Å—Ç—Ä–æ–π—Å—Ç–≤') || 
                        normalizedCommand.includes('–ø—Ä–∏–±–æ—Ä') || 
                        normalizedCommand.includes('–¥–µ–≤–∞–π—Å') ||
                        normalizedCommand.includes('—Å–∏—Å—Ç–µ–º') ||
                        normalizedCommand.length < 25) {
                        confidence += 1;
                    }
                }
            }
            
            // –ï—Å–ª–∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –Ω–∏–∑–∫–∞—è, –≤–æ–∑–º–æ–∂–Ω–æ, –∫–æ–º–∞–Ω–¥–∞ –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–∞
            if (confidence < 1) {
                const errorMsg = '–ö–æ–º–∞–Ω–¥–∞ –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–∫–∞–∑–∞—Ç—å "–ø–æ–º–æ—â—å" –¥–ª—è —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥.';
                showResponse(errorMsg, "warning");
                speak(errorMsg);
                addLogEntry('–ö–æ–º–∞–Ω–¥–∞ –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–∞: ' + normalizedCommand, 'warning');
                return;
            }
            
            // –í—ã–ø–æ–ª–Ω—è–µ–º –¥–µ–π—Å—Ç–≤–∏–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–º–µ—Ä–µ–Ω–∏—è
            switch(intent) {
                case '–≤–∫–ª—é—á–∏—Ç—å':
                    deviceOn = true;
                    generateSensorValues();
                    updateDeviceStatus();
                    const onMsg = '–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤–∫–ª—é—á–µ–Ω–æ. –î–∞—Ç—á–∏–∫–∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã.';
                    showResponse(onMsg, "success");
                    speak(onMsg);
                    addLogEntry('–î–µ–π—Å—Ç–≤–∏–µ: –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤–∫–ª—é—á–µ–Ω–æ', 'info');
                    break;
                    
                case '–≤—ã–∫–ª—é—á–∏—Ç—å':
                    deviceOn = false;
                    generateSensorValues();
                    updateDeviceStatus();
                    const offMsg = '–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤—ã–∫–ª—é—á–µ–Ω–æ. –î–∞—Ç—á–∏–∫–∏ –æ—Ç–∫–ª—é—á–µ–Ω—ã.';
                    showResponse(offMsg, "info");
                    speak(offMsg);
                    addLogEntry('–î–µ–π—Å—Ç–≤–∏–µ: –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤—ã–∫–ª—é—á–µ–Ω–æ', 'info');
                    break;
                    
                case '–ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å':
                    deviceOn = !deviceOn;
                    generateSensorValues();
                    updateDeviceStatus();
                    const toggleMsg = deviceOn ? '–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤–∫–ª—é—á–µ–Ω–æ' : '–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤—ã–∫–ª—é—á–µ–Ω–æ';
                    showResponse(toggleMsg, "success");
                    speak(toggleMsg);
                    addLogEntry(`–î–µ–π—Å—Ç–≤–∏–µ: –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ ${deviceOn ? '–≤–∫–ª—é—á–µ–Ω–æ' : '–≤—ã–∫–ª—é—á–µ–Ω–æ'}`, 'info');
                    break;
                    
                case '—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞':
                    if (deviceOn) {
                        generateSensorValues(); // –û–±–Ω–æ–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏—è
                        const tempMsg = `–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: ${temperature.toFixed(1)} –≥—Ä–∞–¥—É—Å–æ–≤ –¶–µ–ª—å—Å–∏—è. ${getTemperatureDescription(temperature)}`;
                        showResponse(tempMsg, "info");
                        speak(tempMsg);
                        addLogEntry(`–ó–∞–ø—Ä–æ—Å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã: ${temperature.toFixed(1)}¬∞C`, 'info');
                    } else {
                        const deviceOffMsg = "–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤—ã–∫–ª—é—á–µ–Ω–æ. –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –Ω–µ –∏–∑–º–µ—Ä—è–µ—Ç—Å—è.";
                        showResponse(deviceOffMsg, "warning");
                        speak(deviceOffMsg);
                        addLogEntry('–ó–∞–ø—Ä–æ—Å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –ø—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ', 'warning');
                    }
                    break;
                    
                case '–¥–∞–≤–ª–µ–Ω–∏–µ':
                    if (deviceOn) {
                        generateSensorValues(); // –û–±–Ω–æ–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏—è
                        const pressMsg = `–î–∞–≤–ª–µ–Ω–∏–µ: ${pressure} –º–∏–ª–ª–∏–º–µ—Ç—Ä–æ–≤ —Ä—Ç—É—Ç–Ω–æ–≥–æ —Å—Ç–æ–ª–±–∞. ${getPressureDescription(pressure)}`;
                        showResponse(pressMsg, "info");
                        speak(pressMsg);
                        addLogEntry(`–ó–∞–ø—Ä–æ—Å –¥–∞–≤–ª–µ–Ω–∏—è: ${pressure} –º–º —Ä—Ç.—Å—Ç.`, 'info');
                    } else {
                        const deviceOffMsg = "–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤—ã–∫–ª—é—á–µ–Ω–æ. –î–∞–≤–ª–µ–Ω–∏–µ –Ω–µ –∏–∑–º–µ—Ä—è–µ—Ç—Å—è.";
                        showResponse(deviceOffMsg, "warning");
                        speak(deviceOffMsg);
                        addLogEntry('–ó–∞–ø—Ä–æ—Å –¥–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ', 'warning');
                    }
                    break;
                    
                case '—Å—Ç–∞—Ç—É—Å':
                    const status = deviceOn ? 
                        `–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤–∫–ª—é—á–µ–Ω–æ. –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: ${temperature?.toFixed(1) || '--'}¬∞C, –î–∞–≤–ª–µ–Ω–∏–µ: ${pressure || '--'} –º–º —Ä—Ç.—Å—Ç.` :
                        "–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤—ã–∫–ª—é—á–µ–Ω–æ";
                    showResponse(status, "info");
                    speak(status);
                    addLogEntry(`–ó–∞–ø—Ä–æ—Å —Å—Ç–∞—Ç—É—Å–∞: ${deviceOn ? '–≤–∫–ª—é—á–µ–Ω–æ' : '–≤—ã–∫–ª—é—á–µ–Ω–æ'}`, 'info');
                    break;
                    
                case '–æ–±–Ω–æ–≤–∏—Ç—å':
                    generateSensorValues();
                    const updateMsg = deviceOn ? 
                        `–ü–æ–∫–∞–∑–∞–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω—ã. –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: ${temperature.toFixed(1)}¬∞C, –î–∞–≤–ª–µ–Ω–∏–µ: ${pressure} –º–º —Ä—Ç.—Å—Ç.` :
                        "–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤—ã–∫–ª—é—á–µ–Ω–æ. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ.";
                    showResponse(updateMsg, "info");
                    speak(updateMsg);
                    addLogEntry('–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞–Ω–∏–π –¥–∞—Ç—á–∏–∫–æ–≤', 'info');
                    break;
                    
                case '–ø–æ–º–æ—â—å':
                    const helpMsg = "–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã: –≤–∫–ª—é—á–∏/–≤—ã–∫–ª—é—á–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –∫–∞–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, —Å–æ–æ–±—â–∏ –¥–∞–≤–ª–µ–Ω–∏–µ, —Å—Ç–∞—Ç—É—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, –æ–±–Ω–æ–≤–∏ –ø–æ–∫–∞–∑–∞–Ω–∏—è.";
                    showResponse(helpMsg, "info");
                    speak("–í–æ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥: –≤–∫–ª—é—á–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –≤—ã–∫–ª—é—á–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, –¥–∞–≤–ª–µ–Ω–∏–µ, —Å—Ç–∞—Ç—É—Å.");
                    addLogEntry('–ó–∞–ø—Ä–æ—Å –ø–æ–º–æ—â–∏', 'info');
                    break;
                    
                default:
                    const unknownMsg = "–Ø –Ω–µ –ø–æ–Ω—è–ª –∫–æ–º–∞–Ω–¥—É. –°–∫–∞–∂–∏—Ç–µ '–ø–æ–º–æ—â—å' –¥–ª—è —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥.";
                    showResponse(unknownMsg, "warning");
                    speak(unknownMsg);
                    addLogEntry('–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞: ' + normalizedCommand, 'warning');
            }
        }
        
        // –û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
        function getTemperatureDescription(temp) {
            if (temp < 15) return "–ü—Ä–æ—Ö–ª–∞–¥–Ω–æ.";
            if (temp < 22) return "–ö–æ–º—Ñ–æ—Ä—Ç–Ω–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞.";
            if (temp < 27) return "–¢–µ–ø–ª–æ.";
            return "–ñ–∞—Ä–∫–æ.";
        }
        
        // –û–ø–∏—Å–∞–Ω–∏–µ –¥–∞–≤–ª–µ–Ω–∏—è
        function getPressureDescription(press) {
            if (press < 740) return "–ù–∏–∑–∫–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ.";
            if (press < 780) return "–ù–æ—Ä–º–∞–ª—å–Ω–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ.";
            return "–í—ã—Å–æ–∫–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ.";
        }
        
        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
        function updateDeviceStatus() {
            if (deviceOn) {
                statusIndicator.className = 'status-indicator status-on';
                statusIndicator.textContent = '–í–ö–õ';
                statusText.textContent = '–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤–∫–ª—é—á–µ–Ω–æ';
            } else {
                statusIndicator.className = 'status-indicator status-off';
                statusIndicator.textContent = '–í–´–ö–õ';
                statusText.textContent = '–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤—ã–∫–ª—é—á–µ–Ω–æ';
            }
            updateSensorDisplays();
        }
        
        // –§—É–Ω–∫—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞
        function showResponse(message, type = 'info') {
            responseText.textContent = message;
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ü–≤–µ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞
            const responseBox = responseText.parentElement;
            switch(type) {
                case 'success':
                    responseBox.style.borderLeftColor = '#00ff88';
                    break;
                case 'error':
                    responseBox.style.borderLeftColor = '#ff3333';
                    break;
                case 'warning':
                    responseBox.style.borderLeftColor = '#ff9966';
                    break;
                case 'info':
                    responseBox.style.borderLeftColor = '#66ccff';
                    break;
                case 'recognized':
                    responseBox.style.borderLeftColor = '#00ff88';
                    break;
                default:
                    responseBox.style.borderLeftColor = '#667eea';
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏ –≤ –ª–æ–≥
        function addLogEntry(text, type = 'info') {
            const entry = document.createElement('div');
            entry.className = `log-entry ${type}`;
            entry.textContent = `[${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit', second:'2-digit'})}] ${text}`;
            commandLog.appendChild(entry);
            
            // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –ª–æ–≥ –≤–Ω–∏–∑
            commandLog.scrollTop = commandLog.scrollHeight;
            
            // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –≤ –ª–æ–≥–µ
            const entries = commandLog.querySelectorAll('.log-entry');
            if (entries.length > 15) {
                entries[0].remove();
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è —Å–∏–Ω—Ç–µ–∑–∞ —Ä–µ—á–∏ (–æ–∑–≤—É—á–∏–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤)
        function speak(text) {
            if ('speechSynthesis' in window) {
                // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â—É—é —Ä–µ—á—å, –µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å
                window.speechSynthesis.cancel();
                
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'ru-RU';
                utterance.rate = 1.0;
                utterance.pitch = 1.0;
                utterance.volume = 1.0;
                
                // –ù–∞—Ö–æ–¥–∏–º —Ä—É—Å—Å–∫–∏–π –≥–æ–ª–æ—Å
                const voices = window.speechSynthesis.getVoices();
                const russianVoice = voices.find(voice => voice.lang.startsWith('ru'));
                if (russianVoice) {
                    utterance.voice = russianVoice;
                }
                
                window.speechSynthesis.speak(utterance);
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –∏–º–∏—Ç–∞—Ü–∏–∏ –≥–æ–ª–æ—Å–æ–≤–æ–π –∫–æ–º–∞–Ω–¥—ã (–¥–ª—è –∫–Ω–æ–ø–æ–∫ –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞)
        function simulateVoiceCommand(command) {
            addLogEntry(`–ö–æ–º–∞–Ω–¥–∞: "${command}"`, 'recognized');
            processCommand(command);
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        function init() {
            updateDeviceStatus();
            generateSensorValues();
            showResponse("–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É.", "info");
            addLogEntry('–°–∏—Å—Ç–µ–º–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞', 'info');
            
            // –î–ª—è Safari: –∂–¥–µ–º –∑–∞–≥—Ä—É–∑–∫–∏ –≥–æ–ª–æ—Å–æ–≤
            if (speechSynthesis.onvoiceschanged !== undefined) {
                speechSynthesis.onvoiceschanged = () => {
                    console.log('–ì–æ–ª–æ—Å–∞ –∑–∞–≥—Ä—É–∂–µ–Ω—ã');
                };
            }
        }
        
        // –ó–∞–ø—É—Å–∫–∞–µ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('DOMContentLoaded', init);
        
        // –¢–∞–∫–∂–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—Ä–∏ –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', init);
    </script>
</body>
</html>
